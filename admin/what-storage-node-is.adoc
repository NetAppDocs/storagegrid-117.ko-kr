---
permalink: admin/what-storage-node-is.html 
sidebar: sidebar 
keywords: what is a storage node, how many storage nodes 
summary: '스토리지 노드: 오브젝트 데이터 및 메타데이터를 관리하고 저장합니다. 각 StorageGRID 시스템에는 3개 이상의 스토리지 노드가 있어야 합니다. 여러 사이트가 있는 경우 StorageGRID 시스템 내의 각 사이트에도 3개의 스토리지 노드가 있어야 합니다.' 
---
= 스토리지 노드란?
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
스토리지 노드: 오브젝트 데이터 및 메타데이터를 관리하고 저장합니다. 각 StorageGRID 시스템에는 3개 이상의 스토리지 노드가 있어야 합니다. 여러 사이트가 있는 경우 StorageGRID 시스템 내의 각 사이트에도 3개의 스토리지 노드가 있어야 합니다.

스토리지 노드에는 디스크에서 오브젝트 데이터와 메타데이터를 저장, 이동, 확인 및 검색하는 데 필요한 서비스와 프로세스가 포함되어 있습니다. 노드 * 페이지에서 스토리지 노드에 대한 자세한 정보를 볼 수 있습니다.



== ADC 서비스란 무엇입니까?

ADC(관리 도메인 컨트롤러) 서비스는 그리드 노드와 상호 연결을 인증합니다. ADC 서비스는 사이트의 처음 세 스토리지 노드 각각에 호스팅됩니다.

ADC 서비스는 서비스의 위치 및 가용성을 포함한 토폴로지 정보를 유지합니다. 그리드 노드에 다른 그리드 노드의 정보가 필요하거나 다른 그리드 노드에서 작업을 수행해야 하는 경우 ADC 서비스에 문의하여 요청을 처리할 최적의 그리드 노드를 찾습니다. 또한 ADC 서비스는 StorageGRID 배포의 구성 번들의 복사본을 유지하여 그리드 노드가 현재 구성 정보를 검색할 수 있도록 합니다. 그리드 토폴로지 페이지에서 스토리지 노드에 대한 ADC 정보를 볼 수 있습니다(* support*>* Grid topology*).

분산 및 분산 작업을 용이하게 하기 위해 각 ADC 서비스는 인증서, 구성 번들 및 서비스 및 토폴로지에 대한 정보를 StorageGRID 시스템의 다른 ADC 서비스와 동기화합니다.

일반적으로 모든 그리드 노드는 하나 이상의 ADC 서비스에 대한 연결을 유지합니다. 이렇게 하면 그리드 노드가 항상 최신 정보에 액세스할 수 있습니다. 그리드 노드가 연결되면 다른 그리드 노드 "" 인증서를 캐시하여 ADC 서비스를 사용할 수 없는 경우에도 시스템이 알려진 그리드 노드를 계속 사용할 수 있도록 합니다. 새 그리드 노드는 ADC 서비스를 통해서만 연결을 설정할 수 있습니다.

ADC 서비스는 각 그리드 노드의 연결을 통해 토폴로지 정보를 수집할 수 있습니다. 이 그리드 노드 정보에는 CPU 로드, 사용 가능한 디스크 공간(스토리지가 있는 경우), 지원되는 서비스 및 그리드 노드의 사이트 ID가 포함됩니다. 다른 서비스에서는 ADC 서비스에 토폴로지 쿼리를 통한 토폴로지 정보를 요청합니다. ADC 서비스는 StorageGRID 시스템에서 수신한 최신 정보로 각 쿼리에 응답합니다.



== DDS 서비스란 무엇입니까?

스토리지 노드에서 호스팅되는 DDS(Distributed Data Store) 서비스는 Cassandra 데이터베이스와 상호 작용하여 StorageGRID 시스템에 저장된 객체 메타데이터에 대한 백그라운드 작업을 수행합니다.



=== 개체 수

DDS 서비스는 StorageGRID 시스템으로 수집된 총 객체 수와 시스템의 지원되는 인터페이스(S3 또는 Swift)를 통해 수집된 총 객체 수를 추적합니다.

모든 스토리지 노드의 노드 페이지 > 개체 탭에서 총 개체 수를 확인할 수 있습니다.

image::../media/dds_object_counts_queries.png[DDS 개요 페이지]



=== 쿼리

특정 DDS 서비스를 통해 메타데이터 저장소에 대한 쿼리를 실행하는 데 걸리는 평균 시간, 성공한 총 쿼리 수 및 제한 시간 문제로 인해 실패한 총 쿼리 수를 확인할 수 있습니다.

쿼리 정보를 검토하여 메타데이터 저장소, Cassandra의 상태를 모니터링할 수 있으며, 이는 시스템의 수집 및 검색 성능에 영향을 줍니다. 예를 들어, 평균 쿼리의 지연 시간이 느리고 시간 초과로 인해 실패한 쿼리의 수가 많은 경우 메타데이터 저장소의 로드가 높거나 다른 작업을 수행해야 할 수 있습니다.

일관성 오류로 인해 실패한 총 쿼리 수를 볼 수도 있습니다. 정합성 보장 레벨 오류는 특정 DDS 서비스를 통해 쿼리를 수행할 때 사용 가능한 메타데이터 저장소의 수가 부족하기 때문에 발생합니다.

진단 페이지를 사용하여 그리드의 현재 상태에 대한 추가 정보를 얻을 수 있습니다. 을 참조하십시오 link:../monitor/running-diagnostics.html["진단 유틸리티를 실행합니다"].



=== 일관성 보장 및 제어

StorageGRID는 새로 생성된 개체에 대해 쓰기 후 읽기 일관성을 보장합니다. 성공적으로 완료된 PUT 작업 이후의 모든 GET 작업은 새로 작성된 데이터를 읽을 수 있습니다. 기존 오브젝트, 메타데이터 업데이트 및 삭제를 덮어쓰더라도 결국 일관성이 유지됩니다.



== LDR 서비스란?

각 스토리지 노드에 의해 호스팅되는 LDR(Local Distribution Router) 서비스는 StorageGRID 시스템의 콘텐츠 전송을 처리합니다. 콘텐츠 전송에는 데이터 저장, 라우팅 및 요청 처리를 비롯한 다양한 작업이 포함됩니다. LDR 서비스는 데이터 전송 로드 및 데이터 트래픽 기능을 처리하여 StorageGRID 시스템의 대부분의 작업을 수행합니다.

LDR 서비스는 다음 작업을 처리합니다.

* 쿼리
* ILM(정보 수명 주기 관리) 작업
* 개체 삭제
* 오브젝트 데이터 스토리지
* 다른 LDR 서비스(스토리지 노드)에서 오브젝트 데이터 전송
* 데이터 스토리지 관리
* 프로토콜 인터페이스(S3 및 Swift)


또한 LDR 서비스는 StorageGRID 시스템이 수집된 각 오브젝트에 할당하는 고유 "UUID(Content Handles)"(UUID)에 S3 및 Swift 객체의 매핑을 관리합니다.



=== 쿼리

LDR 쿼리에는 검색 및 아카이브 작업 중 개체 위치에 대한 쿼리가 포함됩니다. 쿼리를 실행하는 데 걸리는 평균 시간, 성공한 쿼리의 총 수 및 제한 시간 문제로 인해 실패한 쿼리의 총 수를 확인할 수 있습니다.

쿼리 정보를 검토하여 메타데이터 저장소의 상태를 모니터링하여 시스템의 수집 및 검색 성능에 영향을 줄 수 있습니다. 예를 들어, 평균 쿼리의 지연 시간이 느리고 시간 초과로 인해 실패한 쿼리의 수가 많은 경우 메타데이터 저장소의 로드가 높거나 다른 작업을 수행해야 할 수 있습니다.

일관성 오류로 인해 실패한 총 쿼리 수를 볼 수도 있습니다. 정합성 보장 수준 오류는 특정 LDR 서비스를 통해 쿼리를 수행할 때 사용 가능한 메타데이터 저장소의 수가 부족하여 발생합니다.

진단 페이지를 사용하여 그리드의 현재 상태에 대한 추가 정보를 얻을 수 있습니다. 을 참조하십시오 link:../monitor/running-diagnostics.html["진단 유틸리티를 실행합니다"].



=== ILM 활동

ILM(정보 수명 주기 관리) 메트릭을 통해 ILM 구현을 위해 개체가 평가되는 속도를 모니터링할 수 있습니다. 대시보드 또는 * 노드 * > *_스토리지 노드_ * > * ILM * 에서 이러한 메트릭을 볼 수 있습니다.



=== 오브젝트 저장소

LDR 서비스의 기본 데이터 스토리지는 고정된 수의 오브젝트 저장소(스토리지 볼륨이라고도 함)로 나뉩니다. 각 오브젝트 저장소는 별도의 마운트 지점입니다.

노드 페이지 > 스토리지 탭에서 스토리지 노드의 객체 저장소를 확인할 수 있습니다.

image::../media/object_stores.png[오브젝트 저장소]

스토리지 노드의 오브젝트 저장소는 002F의 16진수 번호로 식별되며 볼륨 ID라고도 합니다. Cassandra 데이터베이스의 오브젝트 메타데이터에 대한 첫 번째 오브젝트 저장소(볼륨 0)에 공간이 예약되며, 해당 볼륨의 나머지 공간은 오브젝트 데이터에 사용됩니다. 다른 모든 오브젝트 저장소는 복제된 복사본 및 삭제 코딩 조각이 포함된 오브젝트 데이터에만 사용됩니다.

복제된 복사본에 대한 공간 사용이 고르게 되도록 지정된 개체의 개체 데이터는 사용 가능한 스토리지 공간을 기반으로 한 하나의 개체 저장소에 저장됩니다. 하나 이상의 오브젝트 저장소에서 용량을 채우는 경우, 나머지 오브젝트 저장소는 스토리지 노드에 더 이상 공간이 없을 때까지 오브젝트를 계속 저장합니다.



=== 메타데이터 보호

오브젝트 메타데이터는 오브젝트 수정 시간 또는 저장 위치와 같은 오브젝트의 설명이나 이와 관련된 정보입니다. StorageGRID는 LDR 서비스와 상호 작용하는 Cassandra 데이터베이스에 개체 메타데이터를 저장합니다.

이중화를 보장하고 손실을 방지하기 위해 각 사이트에 오브젝트 메타데이터의 복사본 3개가 유지됩니다. 이 복제는 구성이 불가능하며 자동으로 수행됩니다.

link:managing-object-metadata-storage.html["오브젝트 메타데이터 스토리지 관리"]
